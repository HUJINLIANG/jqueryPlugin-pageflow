!function(t,i){function e(i,e){this.settings=t.extend({},n,e),this.element=i,this.init()}var n={selectors:{section:".section",page:".pages",active:".active"},index:0,ease:"swing",duration:500,loop:!1,pagination:!0,keyboard:!0,direction:"vertical",callback:""};e.prototype={init:function(){this.canScroll=!0,this.selector=this.settings.selectors,this.section=t(this.element).find(this.selector.section),this.direction=this.settings.direction,this.pageCount=this.section.length,this.index=this.settings.index>=0&&this.settings.index<this.pageCount?this.settings.index:0,"vertical"!==this.direction&&this._initLayout(),this.settings.pagination&&this._initPaging(),this._initEvent()},switchLength:function(){return"vertical"===this.direction?this.element.height():this.element.width()},_initLayout:function(){var i=100*this.pageCount+"%",e=(100/this.pageCount).toFixed(2)+"%";t(this.element).width(i),t(this.section).width(e).css("float","left")},_initPaging:function(){var e=this.selector.page.slice(1);this.activeClass=this.selector.active.slice(1);for(var n=this.selector.active.slice(1),s=t("<ul>",{"class":e}).css({position:"fixed",top:t(i).height()/2+"px",right:"10px",listStyle:"none"}),o=0;o<this.pageCount;o++){var a=t("<li>").css({border:"none",width:"8px",height:"8px","border-radius":"50%",background:"#fff",margin:"0 0 10px 5px"});s.append(a)}t(this.element).append(s);var l=t(this.element).find(this.selector.page);this.pageItem=l.find("li"),this.pageItem.eq(this.index).addClass(n).css({width:"14px",height:"14px",border:"2px solid #FFFE00",background:"none","margin-left":"0"}),l.addClass("vertical"===this.direction?"vertical":"horizontal")},_initEvent:function(){var e=this;t(e.element).on("click",e.selector.page+" li",function(){e.index=t(this).index(),e._scrollPage()}),t(e.element).on("mousewheel DOMMouseScroll",function(t){if(e.canScroll){var i=t.originalEvent.wheelDelta||-t.originalEvent.detail;i>0&&(e.index>0&&!e.settings.loop||e.settings.loop)?e.prev():(0>i&&e.index<e.pageCount-1&&!e.settings.loop||e.settings.loop)&&e.next()}}),e.settings.keyboard&&t(i).on("keydown",function(t){var i=t.keyCode;37==i||38==i?e.prev():(39==i||40==i)&&e.next()}),t(i).resize(function(){t(e.element).find(e.selector.page).remove(),e._initPaging()})},prev:function(){var t=this;t.index>0?t.index--:t.settings.loop&&(t.index=t.pageCount-1),t._scrollPage()},next:function(){var t=this;t.index<t.pageCount-1?t.index++:t.settings.loop&&(t.index=0),t._scrollPage()},_scrollPage:function(){var i=this;i.canScroll=!1;var e=this.section.eq(this.index).position(),n="vertical"===i.direction?{top:-e.top}:{left:-e.left};t(this.element).stop().animate(n,this.settings.duration,this.settings.ease,function(){i.canScroll=!0}),i.settings.pagination&&i.pageItem.eq(i.index).addClass(i.activeClass).css({width:"14px",height:"14px",border:"2px solid #FFFE00",background:"none","margin-left":"0"}).siblings("li").removeClass(i.activeClass).css({border:"none",width:"8px",height:"8px","border-radius":"50%",background:"#fff",margin:"0 0 10px 5px"})}},t.fn.pageflow=function(i){return this.each(function(){var n=t(this),s=n.data("pageflow");s||(intance=new e(this,i),n.data("pageflow",s))})},t("[data-pageflow]").pageflow()}(jQuery,window,document);